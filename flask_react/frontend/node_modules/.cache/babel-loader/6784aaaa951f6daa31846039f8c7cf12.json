{"ast":null,"code":"var _jsxFileName = \"/Users/harsh/Desktop/react_flask_tutorials/todo_single/frontend/src/Pages/TodoPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { AddTodoForm } from \"../Components/AddTodoForm\";\nimport { TodoItem } from \"../Components/TodoItem\";\nimport { EditForm } from \"../Components/EditForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TodoPage = () => {\n  _s();\n\n  const [todos, setTodos] = useState([]);\n  const [todo, setTodo] = useState(\"\");\n  const [isEditing, setIsEditing] = useState(false);\n  const [currentTodo, setCurrentTodo] = useState({});\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:5000/api\", {\n      method: \"GET\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n    }).then(response => setTodos(response));\n  }, []);\n\n  const handleAddInputChange = e => {\n    setTodo(e.target.value);\n  };\n\n  const handleAddFormSubmit = e => {\n    e.preventDefault();\n\n    if (todo !== \"\") {\n      setTodos([...todos, {\n        id: todo.length + 1,\n        content: todo.trim()\n      }]);\n    }\n\n    fetch(\"http://127.0.0.1:5000/api/create\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        content: todo\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(response => {\n      setTodo(\"\");\n      getLatestTodos();\n    });\n  };\n\n  const getLatestTodos = () => {\n    fetch(\"http://127.0.0.1:5000/api\").then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n    }).then(response => setTodo(response));\n  };\n\n  const handleDeleteClick = id => {\n    fetch(\"http://127.0.0.1:5000/api/\" + id, {\n      methood: \"DELETE\",\n      header: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(data => console.log(data));\n    setTodos(todos.filter(todo => todo.id !== id));\n  };\n\n  const handleEditClick = todo => {\n    setIsEditing(true);\n    setCurrentTodo(...todo);\n  };\n\n  const handleEditInputChange = e => {\n    setCurrentTodo({ ...currentTodo,\n      content: e.target.value\n    });\n    console.log(currentTodo);\n  };\n\n  const handleEditFormSubmit = e => {\n    e.preventDefault();\n  };\n\n  const handleUpdateTodo = _ref => {\n    let {\n      id,\n      updatedTodo\n    } = _ref;\n    const updatedItem = todos.map(todo => {\n      return todo.id === id ? updatedTodo : todo;\n    });\n    setIsEditing(false);\n    setTodos(updatedItem);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [isEditing ? /*#__PURE__*/_jsxDEV(EditForm, {\n      currentTodo: currentTodo,\n      setIsEditing: setIsEditing,\n      onEditInputChange: handleEditInputChange,\n      onEditFormSubmit: handleEditFormSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(AddTodoForm, {\n      todo: todo,\n      onAddFormSubmit: handleAddFormSubmit,\n      onAddInputChange: handleAddInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: todos.map(todo => /*#__PURE__*/_jsxDEV(TodoItem, {\n        todo: todo,\n        onEditClick: handleEditClick,\n        onDeleteClick: handleDeleteClick\n      }, todo.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TodoPage, \"Yn9asznHDInyxZU1Ld+/0dnHxuw=\");\n\n_c = TodoPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodoPage\");","map":{"version":3,"sources":["/Users/harsh/Desktop/react_flask_tutorials/todo_single/frontend/src/Pages/TodoPage.js"],"names":["React","useEffect","useState","AddTodoForm","TodoItem","EditForm","TodoPage","todos","setTodos","todo","setTodo","isEditing","setIsEditing","currentTodo","setCurrentTodo","fetch","method","headers","then","response","ok","json","handleAddInputChange","e","target","value","handleAddFormSubmit","preventDefault","id","length","content","trim","body","JSON","stringify","getLatestTodos","handleDeleteClick","methood","header","Accept","data","console","log","filter","handleEditClick","handleEditInputChange","handleEditFormSubmit","handleUpdateTodo","updatedTodo","updatedItem","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { AddTodoForm } from \"../Components/AddTodoForm\"\nimport { TodoItem } from \"../Components/TodoItem\"\nimport { EditForm } from \"../Components/EditForm\"\n\nexport const TodoPage = () => {\n    const [todos, setTodos] = useState([])\n    const [todo, setTodo] = useState(\"\")\n    const [isEditing, setIsEditing] = useState(false)\n    const [currentTodo, setCurrentTodo] = useState({})\n\n    useEffect(() => {\n        fetch(\"http://127.0.0.1:5000/api\", {\n            method: \"GET\",\n            headers: {\n                \"Content-type\": \"application/json\",\n            },\n        })\n            .then((response) => {\n                if (response.ok) {\n                    return response.json()\n                }\n            })\n            .then((response) => setTodos(response))\n    }, [])\n\n    const handleAddInputChange = (e) => {\n        setTodo(e.target.value)\n    }\n    const handleAddFormSubmit = (e) => {\n        e.preventDefault()\n        if (todo !== \"\") {\n            setTodos([\n                ...todos,\n                {\n                    id: todo.length + 1,\n                    content: todo.trim(),\n                },\n            ])\n        }\n        fetch(\"http://127.0.0.1:5000/api/create\", {\n            method: \"POST\",\n            body: JSON.stringify({ content: todo }),\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        })\n            .then((response) => response.json())\n            .then((response) => {\n                setTodo(\"\")\n                getLatestTodos()\n            })\n    }\n\n    const getLatestTodos = () => {\n        fetch(\"http://127.0.0.1:5000/api\")\n            .then((response) => {\n                if (response.ok) {\n                    return response.json()\n                }\n            })\n            .then((response) => setTodo(response))\n    }\n\n    const handleDeleteClick = (id) => {\n        fetch(\"http://127.0.0.1:5000/api/\" + id, {\n            methood: \"DELETE\",\n            header: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n            },\n        })\n            .then((response) => response.json())\n            .then((data) => console.log(data))\n\n        setTodos(todos.filter((todo) => todo.id !== id))\n    }\n    const handleEditClick = (todo) => {\n        setIsEditing(true)\n        setCurrentTodo(...todo)\n    }\n    const handleEditInputChange = (e) => {\n        setCurrentTodo({ ...currentTodo, content: e.target.value })\n        console.log(currentTodo)\n    }\n\n    const handleEditFormSubmit = (e) => {\n        e.preventDefault()\n    }\n\n    const handleUpdateTodo = ({ id, updatedTodo }) => {\n        const updatedItem = todos.map((todo) => {\n            return todo.id === id ? updatedTodo : todo\n        })\n        setIsEditing(false)\n        setTodos(updatedItem)\n    }\n\n    return (\n        <div>\n            {isEditing ? (\n                <EditForm\n                    currentTodo={currentTodo}\n                    setIsEditing={setIsEditing}\n                    onEditInputChange={handleEditInputChange}\n                    onEditFormSubmit={handleEditFormSubmit}\n                />\n            ) : (\n                <AddTodoForm\n                    todo={todo}\n                    onAddFormSubmit={handleAddFormSubmit}\n                    onAddInputChange={handleAddInputChange}\n                />\n            )}\n\n            <ul>\n                {todos.map((todo) => (\n                    <TodoItem\n                        key={todo.id}\n                        todo={todo}\n                        onEditClick={handleEditClick}\n                        onDeleteClick={handleDeleteClick}\n                    />\n                ))}\n            </ul>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}