{"ast":null,"code":"var _jsxFileName = \"/Users/harsh/Desktop/react_flask_tutorials/todo_single/frontend/src/Pages/TodoPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { AddTodoForm } from \"../Components/AddTodoForm\";\nimport { TodoItem } from \"../Components/TodoItem\";\nimport { EditForm } from \"../Components/EditForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TodoPage = () => {\n  _s();\n\n  const [todos, setTodos] = useState([]);\n  const [todo, setTodo] = useState(\"\");\n  const [isEditing, setisEditing] = useState(false);\n  const [currentTodo, setcurrentTodo] = useState({});\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:5000/api\", {\n      method: \"GET\",\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n    }).then(response => setTodos(response));\n  }, []);\n\n  const handleAddInputChange = e => {\n    setTodo(e.target.value);\n  };\n\n  const handleAddFormSubmit = e => {\n    e.preventDefault();\n\n    if (todo !== \"\") {\n      setTodos([...todos, {\n        id: todo.length + 1,\n        content: todo.trim()\n      }]);\n    }\n\n    fetch(\"http://127.0.0.1:5000/api/create\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        content: todo\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(response => {\n      setTodo(\"\");\n      getLatestTodos();\n    });\n  };\n\n  const getLatestTodos = () => {\n    fetch(\"http://127.0.0.1:5000/api\").then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n    }).then(response => setTodo(response));\n  };\n\n  const handleDeleteClick = id => {\n    fetch(\"http://127.0.0.1:5000/api/\" + id, {\n      methood: \"DELETE\",\n      header: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(data => console.log(data));\n    setTodos(todos.filter(todo => todo.id !== id));\n  };\n\n  const handleEditInputChange = e => {\n    setCurrentTodo({ ...currentTodo,\n      id: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(AddTodoForm, {\n      todo: todo,\n      onAddFormSubmit: handleAddFormSubmit,\n      onAddInputChange: handleAddInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: todos.map(todo => /*#__PURE__*/_jsxDEV(TodoItem, {\n        todo: todo,\n        onEditClick: handleEditInputChange,\n        onDeleteClick: handleDeleteClick\n      }, todo.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TodoPage, \"7+w0DwqzE4mLvkb5OFVqHnM7Ugw=\");\n\n_c = TodoPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodoPage\");","map":{"version":3,"sources":["/Users/harsh/Desktop/react_flask_tutorials/todo_single/frontend/src/Pages/TodoPage.js"],"names":["React","useEffect","useState","AddTodoForm","TodoItem","EditForm","TodoPage","todos","setTodos","todo","setTodo","isEditing","setisEditing","currentTodo","setcurrentTodo","fetch","method","headers","then","response","ok","json","handleAddInputChange","e","target","value","handleAddFormSubmit","preventDefault","id","length","content","trim","body","JSON","stringify","getLatestTodos","handleDeleteClick","methood","header","Accept","data","console","log","filter","handleEditInputChange","setCurrentTodo","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { AddTodoForm } from \"../Components/AddTodoForm\"\nimport { TodoItem } from \"../Components/TodoItem\"\nimport { EditForm } from \"../Components/EditForm\"\n\nexport const TodoPage = () => {\n    const [todos, setTodos] = useState([])\n    const [todo, setTodo] = useState(\"\")\n    const [isEditing, setisEditing] = useState(false)\n    const [currentTodo, setcurrentTodo] = useState({})\n\n    useEffect(() => {\n        fetch(\"http://127.0.0.1:5000/api\", {\n            method: \"GET\",\n            headers: {\n                \"Content-type\": \"application/json\",\n            },\n        })\n            .then((response) => {\n                if (response.ok) {\n                    return response.json()\n                }\n            })\n            .then((response) => setTodos(response))\n    }, [])\n\n    const handleAddInputChange = (e) => {\n        setTodo(e.target.value)\n    }\n    const handleAddFormSubmit = (e) => {\n        e.preventDefault()\n        if (todo !== \"\") {\n            setTodos([\n                ...todos,\n                {\n                    id: todo.length + 1,\n                    content: todo.trim(),\n                },\n            ])\n        }\n        fetch(\"http://127.0.0.1:5000/api/create\", {\n            method: \"POST\",\n            body: JSON.stringify({ content: todo }),\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        })\n            .then((response) => response.json())\n            .then((response) => {\n                setTodo(\"\")\n                getLatestTodos()\n            })\n    }\n\n    const getLatestTodos = () => {\n        fetch(\"http://127.0.0.1:5000/api\")\n            .then((response) => {\n                if (response.ok) {\n                    return response.json()\n                }\n            })\n            .then((response) => setTodo(response))\n    }\n\n    const handleDeleteClick = (id) => {\n        fetch(\"http://127.0.0.1:5000/api/\" + id, {\n            methood: \"DELETE\",\n            header: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n            },\n        })\n            .then((response) => response.json())\n            .then((data) => console.log(data))\n\n        setTodos(todos.filter((todo) => todo.id !== id))\n    }\n\n    const handleEditInputChange = (e) => {\n        setCurrentTodo({ ...currentTodo, id: e.target.value })\n    }\n\n    return (\n        <div>\n            <AddTodoForm\n                todo={todo}\n                onAddFormSubmit={handleAddFormSubmit}\n                onAddInputChange={handleAddInputChange}\n            />\n            <ul>\n                {todos.map((todo) => (\n                    <TodoItem\n                        key={todo.id}\n                        todo={todo}\n                        onEditClick={handleEditInputChange}\n                        onDeleteClick={handleDeleteClick}\n                    />\n                ))}\n            </ul>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}